{% load static %}
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>My-Finances</title>
    <link
      rel="shortcut icon"
      href="{% static 'myfinances/images/favicon.ico' %}"
      type="image/x-icon"
    />

    <!-- jQuery and JS bundle w/ Popper.js -->
    <script
      src="https://code.jquery.com/jquery-3.5.1.slim.min.js"
      integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj"
      crossorigin="anonymous"
    ></script>
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-ho+j7jyWK8fNQe+A12Hb8AhRq26LrZ/JpcUGGOn+Y7RsweNrtN/tE3MoK7ZeZDyx"
      crossorigin="anonymous"
    ></script>

    <!-- bootstrap -->
    <link
      rel="stylesheet"
      href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css"
      integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO"
      crossorigin="anonymous"
    />
    <script
      src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js"
      integrity="sha384-ChfqqxuZUCnJSK3+MXmPNIyE6ZbWh2IMqE241rYiqJxyMiZ6OW/JmZQ5stwEULTy"
      crossorigin="anonymous"
    ></script>

    <!-- d3.js -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/d3/5.5.0/d3.js"></script>

    <!-- plotly -->
    <script src="https://cdn.plot.ly/plotly-2.27.0.min.js"></script>

    <!-- Add icon library -->
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css"
    />

    <!-- Our CSS -->
    <link
      rel="stylesheet"
      type="text/css"
      href="{% static 'myfinances/css/style.css' %}"
    />

    <script src="https://cdn.sheetjs.com/xlsx-latest/package/dist/xlsx.full.min.js"></script>
  </head>

  <body>
    <!-- nav bar -->
    <nav class="navbar navbar-expand-lg navbar-dark bg-dark">
      <a id="logo" href="{% url 'resumesite-home' %}"
        ><img src="{% static 'myfinances/images/favicon.ico' %}"
      /></a>
      <a class="navbar-brand" href="{% url 'myfinances:home' %}">My-Finances</a>
      <button
        class="navbar-toggler"
        type="button"
        data-toggle="collapse"
        data-target="#navbarSupportedContent"
        aria-controls="navbarSupportedContent"
        aria-expanded="false"
        aria-label="Toggle navigation"
      >
        <span class="navbar-toggler-icon"></span>
      </button>

      <div class="collapse navbar-collapse" id="navbarSupportedContent">
        <ul class="navbar-nav ml-auto">
          {% if user.is_authenticated %}
          <li class="nav-item" id="linksTable">
            <a class="nav-link" href="{% url 'myfinances:banktransactions' %}"
              >Upload Transactions</a
            >
          </li>
          <li class="nav-item" id="linksTransactions">
            <a class="nav-link" href="{% url 'myfinances:transactions-list' %}"
              >My Transactions</a
            >
          </li>
          <li class="nav-item" id="linksCategoryTotals">
            <a class="nav-link" href="{% url 'myfinances:category-totals' %}"
              >Category Totals</a
            >
          </li>

          <li class="nav-item" id="linksCategories">
            <a class="nav-link" href="{% url 'myfinances:categories-list' %}"
              >My Categories</a
            >
          </li>
          <li class="nav-item" id="linksManage">
            <a
              class="nav-link {% if request.resolver_match.view_name == 'myfinances:manage_statements' %}active{% endif %}"
              href="{% url 'myfinances:manage_statements' %}"
            >
              Manage Statements
            </a>
          </li>
          <li class="nav-item" id="linksCharts">
            <a class="nav-link" href="{% url 'myfinances:statement' %}#charts"
              >Analyzes</a
            >
          </li>
          <li class="nav-item" id="linksTotal">
            <a
              class="nav-link"
              href="{% url 'myfinances:statement' %}#totalsRow"
              >Totals</a
            >
          </li>
          <li class="nav-item" id="linksSample">
            <a
              class="nav-link"
              href="{% static 'myfinances/resources/Statement.CSV'%}"
              download
              >Sample Statement</a
            >
          </li>
          <li class="nav-item" id="linksRestart">
            <a class="nav-link" href="{% url 'myfinances:statement' %}"
              >Restart</a
            >
          </li>
          <li class="nav-item" id="linksAbout">
            <a class="nav-link" href="{% url 'myfinances:home' %}#about"
              >About</a
            >
          </li>
          <li class="dropdown">
            <a
              href="#"
              class="dropdown-toggle nav-link"
              data-toggle="dropdown"
              role="button"
              aria-haspopup="true"
              aria-expanded="false"
              id="user_info"
              >{{ user.get_username }} ({{ user.email }})
              <span class="caret"></span
            ></a>
            <ul class="dropdown-menu bg-dark">
              <li class="nav-item">
                <a
                  class="nav-link"
                  href="{% url 'logout'%}?next={{request.path}}"
                  >Logout</a
                >
              </li>
            </ul>
          </li>
          {% endif %}
        </ul>
      </div>
    </nav>
    <!-- nav bar -->

    {% block content %}{% endblock %}
    <!-- footer at bottom -->
    <div
      style="
        margin-top: auto;
        width: 100%;
        text-align: center;
        padding: 10px;
        background: #f8f9fa;
        border-top: 1px solid #ddd;
      "
    >
      <footer class="footer">
        <span class="bottom">My-Finances</span>
        <br />
        <span>Gabriel Pivaro &#169; 2021</span>
      </footer>
    </div>
  </body>
</html>
